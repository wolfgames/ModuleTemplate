(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7342:function(e,t,r){Promise.resolve().then(r.bind(r,798))},798:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return c}});var o=r(7437),n=r(1169),i=r(2265),l=r(1955);function a(e){let{title:t,description:r,fields:n,defaultValues:a,schema:s,onSubmit:u,onValidationError:d,submitButtonText:c="Create Configuration",footerText:p}=e,[f,g]=(0,i.useState)(a),[x,y]=(0,i.useState)({}),[b,m]=(0,i.useState)(!1),h=async e=>{e.preventDefault(),m(!0);try{let e=(0,l.Fv)(f,s);if(!e.success){let t=e.errors;y(t),d&&d(t);return}y({});let t=(0,l.CO)(e.data);console.log("Submitting config:",e.data),u(e.data,t,"")}catch(e){console.error("Form submission error:",e),y({_form:"An unexpected error occurred"})}finally{m(!1)}},v=(e,t)=>{g(r=>({...r,[e]:t})),x[e]&&y(t=>{let r={...t};return delete r[e],r})},k=e=>{var t,r,n;let i=null!==(t=f[e.key])&&void 0!==t?t:"",l={width:"100%",padding:"12px",border:x[e.key]?"2px solid #d32f2f":"1px solid #ddd",borderRadius:"4px",fontSize:"14px",boxSizing:"border-box"};switch(e.type){case"text":return(0,o.jsx)("input",{type:"text",id:e.key,value:i,onChange:t=>v(e.key,t.target.value),style:l,placeholder:e.placeholder,maxLength:e.maxLength,required:e.required});case"number":return(0,o.jsx)("input",{type:"number",id:e.key,min:e.min,max:e.max,value:i,onChange:t=>v(e.key,Number.parseInt(t.target.value)||e.min||0),style:l,required:e.required});case"select":return(0,o.jsxs)("select",{id:e.key,value:i,onChange:t=>v(e.key,t.target.value),style:l,required:e.required,children:[!e.required&&(0,o.jsx)("option",{value:"",children:"-- Select --"}),null===(r=e.options)||void 0===r?void 0:r.map(e=>(0,o.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))]});case"radio":return(0,o.jsx)("div",{style:{display:"flex",gap:"15px"},children:null===(n=e.options)||void 0===n?void 0:n.map(t=>(0,o.jsxs)("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[(0,o.jsx)("input",{type:"radio",name:e.key,value:t,checked:i===t,onChange:t=>v(e.key,t.target.value),style:{marginRight:"5px"},required:e.required}),t.charAt(0).toUpperCase()+t.slice(1)]},t))});default:return(0,o.jsxs)("div",{children:["Unsupported field type: ",e.type]})}},C=async()=>{try{let e=(0,l.Fv)(a,s);if(!e.success){let t=e.errors;console.log({errors:t}),y(t),d&&d(t);return}y({});let t=(0,l.CO)(e.data);m(!0),u(e.data,t,"")}catch(e){console.error("Default config generation error:",e),y({_form:"Failed to generate default configuration"})}finally{m(!1)}};return(0,o.jsxs)("div",{style:{maxWidth:"500px",margin:"50px auto",padding:"40px",backgroundColor:"#ffffff",borderRadius:"8px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",fontFamily:"Arial, sans-serif"},children:[(0,o.jsx)("h2",{style:{textAlign:"center",marginBottom:"20px",color:"#333"},children:t}),(0,o.jsx)("p",{style:{textAlign:"center",marginBottom:"30px",color:"#666",fontSize:"14px"},children:r}),(0,o.jsxs)("form",{onSubmit:h,children:[n.map(e=>(0,o.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,o.jsxs)("label",{htmlFor:e.key,style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:"#333"},children:[e.label,e.required&&(0,o.jsx)("span",{style:{color:"#d32f2f"},children:" *"})]}),k(e),x[e.key]&&(0,o.jsx)("div",{style:{color:"#d32f2f",fontSize:"12px",marginTop:"5px"},children:x[e.key]})]},e.key)),x._form&&(0,o.jsx)("div",{style:{color:"#d32f2f",fontSize:"14px",marginBottom:"20px",padding:"10px",backgroundColor:"#ffebee",border:"1px solid #f8bbd9",borderRadius:"4px"},children:x._form}),(0,o.jsx)("button",{type:"button",onClick:()=>C(),style:{width:"100%",padding:"12px",backgroundColor:"#17a2b8",color:"white",border:"none",borderRadius:"4px",fontSize:"14px",fontWeight:"bold",cursor:"pointer",transition:"background-color 0.2s",marginBottom:"15px"},onMouseOver:e=>{e.currentTarget.style.backgroundColor="#138496"},onMouseOut:e=>{e.currentTarget.style.backgroundColor="#17a2b8"},children:"\uD83C\uDFAF Generate Default Config"}),(0,o.jsx)("button",{type:"submit",disabled:b,style:{width:"100%",padding:"14px",backgroundColor:b?"#6c757d":"#007bff",color:"white",border:"none",borderRadius:"4px",fontSize:"16px",fontWeight:"bold",cursor:b?"not-allowed":"pointer",transition:"background-color 0.2s"},onMouseOver:e=>{b||(e.currentTarget.style.backgroundColor="#0056b3")},onMouseOut:e=>{b||(e.currentTarget.style.backgroundColor="#007bff")},children:b?"Processing...":c})]}),p&&(0,o.jsx)("div",{style:{marginTop:"30px",padding:"15px",backgroundColor:"#e3f2fd",borderRadius:"4px",fontSize:"12px",color:"#1976d2"},children:p})]})}var s=r(4916),u=r(4071);let d=[{key:"resultAction",label:"Module Result Action",type:"select",options:[u.r.enum.Done,u.r.enum.CustomAction],required:!0},{key:"replayAbility",label:"Replay Ability",type:"select",options:Object.values(l.nz),required:!0},{key:"expectedResultType",label:"Expected Result Type",type:"select",options:Object.values(l.$4),required:!0},{key:"integrationType",label:"Integration Type",type:"select",options:Object.values(l.DI),required:!0}];var c=()=>{let e=(0,n.useRouter)(),t=(0,i.useCallback)(function(t,r){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=(0,l.r5)(r,o);e.push("/game/?"+n.toString())},[]);return(0,o.jsx)("main",{className:"min-h-screen bg-gray-100",children:(0,o.jsx)(a,{title:"Configure Module",description:"No URL parameters found. Please configure your module settings below.",fields:d,defaultValues:s.g5,schema:s.ZP,onSubmit:t,submitButtonText:"Create Module",footerText:"Powered by Zod + Module Kit \uD83D\uDCE6: This form uses Zod schema validation through the module-kit package for type-safe configuration validation."})})}},4071:function(e,t,r){"use strict";r.d(t,{r:function(){return l}});var o,n=r(537),i=r(1955);(o||(o={})).CustomAction="custom-action";let l=n.jb({...i.c8,...o})},4916:function(e,t,r){"use strict";r.d(t,{g5:function(){return a}});var o=r(537),n=r(1955),i=r(4071);let l=o.Ry({resultAction:i.r}),a={replayAbility:n.nz.Once,expectedResultType:n.$4.Attempt,integrationType:n.DI.Standalone,resultAction:n.c8.Done},s=n.uN.merge(l);t.ZP=s,s.partial()}},function(e){e.O(0,[955,971,23,744],function(){return e(e.s=7342)}),_N_E=e.O()}]);